# "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment].\n\nOUTPUT REQUIREMENT: Your output MUST be in JSONL format, for example: {\"messages\": [{\"role\": \"assistant\", \"content\": \"ANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment].\"}]}"
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241215.log 2>&1 --model OpenGVLab/InternVL2-2B --dataset ../datasets/sqa/sqa-train-img-difficult1.jsonl --val_dataset ../datasets/sqa/sqa-train-img-0.01.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 4096 --max_new_tokens 4096 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241215.log 2>&1 --model OpenGVLab/InternVL2-2B --dataset ../datasets/sqa/sqa-train-img-difficult1.jsonl --val_dataset ../datasets/sqa/sqa-train-img-0.01.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 4096 --max_new_tokens 4096 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e --deepspeed zero3 --use_liger true
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241215.log 2>&1 --model_type qwen2_vl --model /home/civisky/workspace/models/qwen-2.0-vl-7b-instruct --dataset ../datasets/sqa/sqa-train-img-difficult1.jsonl --val_dataset ../datasets/sqa/sqa-train-img-0.01.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 4096 --max_new_tokens 4096 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft
# CUDA_VISIBLE_DEVICES=0 swift infer --model_type qwen2_vl --ckpt_dir /home/civisky/workspace/swift3/output/v4-20241215-111139/checkpoint-80 --val_dataset /home/civisky/workspace/datasets/sqa/sqa-test-img.jsonl  --system "You MUST respond with exactly this MANDATORY FORMAT: 'The correct answer is X' where X is a capital letter. Example: 'The correct answer is A'. No other text or explanations allowed." --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241216.log 2>&1 --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241216.log 2>&1 --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241216.log 2>&1 --model OpenBMB/MiniCPM-V --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241216.log 2>&1 --model OpenBMB/MiniCPM-V-2 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft >> 20241216.log 2>&1 --model OpenBMB/MiniCPM-Llama3-V-2_5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft --model deepseek-ai/deepseek-vl-1.3b-chat --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft --model deepseek-ai/deepseek-vl2-tiny --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True --attn_impl sdpa --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift sft --model deepseek-ai/deepseek-vl-7b-chat --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val.jsonl --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 10 --eval_steps 10 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True --attn_impl flash_attn --tuner_backend peft --deepspeed zero3
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/v13-20241216-011532/checkpoint-560 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test.jsonl --attn_impl flash_attn --max_new_tokens 64  --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-1B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test.jsonl --attn_impl flash_attn --max_new_tokens 64
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-2B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test.jsonl --attn_impl flash_attn --max_new_tokens 64
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test.jsonl --attn_impl flash_attn --max_new_tokens 64
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16  --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed. Example: 'The correct answer is: Yes'." --attn_impl flash_attn --max_new_tokens 16 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 16 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 16 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-1.3b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-7b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl2-tiny --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl sdpa --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3-vision-128k-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3.5-vision-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-2B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llama3-llava-next-8b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-Llama3-V-2_5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed." --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/slake/slake_test_all.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 10 --system "You MUST respond in exactly this MANDATORY FORMAT: 'The correct answer is: X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/slake/slake_test_open.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/InternVL2_5-4B --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241217.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/InternVL2_5-4B --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_all.jsonl --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 1 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241217.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/InternVL2_5-4B --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_all.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_all.jsonl --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 1 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --output_dir output --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241217.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/pmcvqa/test_messages.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift sft --model LLM-Research/Phi-3.5-vision-instruct --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_0.01.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_val_all.jsonl --output_dir output/phi-3.5-vision-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 1024 --max_new_tokens 1024 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241218.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model LLM-Research/Phi-3.5-vision-instruct --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_0.02.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_val_all.jsonl --output_dir output/phi-3.5-vision-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 1024 --max_new_tokens 1024 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241218.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model LLM-Research/Phi-3.5-vision-instruct --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_0.03.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_val_all.jsonl --output_dir output/phi-3.5-vision-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 1024 --max_new_tokens 1024 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241218.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model LLM-Research/Phi-3.5-vision-instruct --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_0.05.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_val_all.jsonl --output_dir output/phi-3.5-vision-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 1024 --max_new_tokens 1024 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241218.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/phi-3.5-vision-4b/v2-20241218-015406/checkpoint-100 --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/phi-3.5-vision-4b/v2-20241218-015406/checkpoint-500 --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/phi-3.5-vision-4b/v2-20241218-015406/checkpoint-993 --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3.5-vision-instruct --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift sft --model LLM-Research/Phi-3.5-vision-instruct --dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_val_all.jsonl --output_dir output/phi-3.5-vision-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 1024 --max_new_tokens 1024 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 >> 20241218.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3.5-vision-instruct --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all_choices.jsonl --attn_impl flash_attn --max_new_tokens 10 --system "You MUST respond with exactly this MANDATORY FORMAT: 'The correct answer is X' where X is a capital letter. Example: 'The correct answer is A'. No other text or explanations allowed."
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/phi-3.5-vision-4b/v0-20241218-000130/checkpoint-300 --val_dataset /home/civisky/workspace/datasets/pmcvqa/pmcvqa_test_clean_all_choices.jsonl --attn_impl flash_attn --max_new_tokens 10 --system "You MUST respond with exactly this MANDATORY FORMAT: 'The correct answer is X' where X is a capital letter. Example: 'The correct answer is A'. No other text or explanations allowed."
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-2b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_slake_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 3 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 100 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type cosine --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 0.5e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.5e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-2b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.00 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.05 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.15 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.00 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 5 --max_steps -1 --save_total_limit -1 --save_steps 50 --eval_steps 50 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.10 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241219.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v2-20241219-065200/checkpoint-100 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v2-20241219-065200/checkpoint-300 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v2-20241219-065200/checkpoint-560 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-2b/v1-20241218-231516/checkpoint-100 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v3-20241219-103633/checkpoint-300 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v3-20241219-103633/checkpoint-600 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v3-20241219-103633/checkpoint-900 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8 --system "You MUST respond in exactly this MANDATORY FORMAT: 'X', where X is a precise, single-term response such as Yes/No, medical terms (e.g., MRI, CT, X-Ray, Abdomen, Chest, Liver, Heart, Lung, Pneumonia, Liver Cancer), anatomical directions (e.g., Left, Right), clinical descriptors (e.g., Abnormal, Cystic), or gender (e.g., Male, Female). NO additional text, explanation, or context allowed."
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/slake/slake_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/slake/slake_val_closed.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 300 --eval_steps 300 --logging_steps 300 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241220.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v4-20241219-230419/checkpoint-300 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --dataset /home/civisky/workspace/datasets/slake/slake_train_all_multi_round_v2.jsonl --val_dataset /home/civisky/workspace/datasets/slake/slake_val_closed.jsonl#100 --output_dir output/internvl-1.5-2b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 30 --eval_steps 30 --logging_steps 30 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241220.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v7-20241220-115516/checkpoint-30 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqamed/vqamed_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqamed/vqamed_test_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 300 --eval_steps 300 --logging_steps 3 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241220.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/slake/slake_train_closed.jsonl#10 --attn_impl flash_attn --max_new_tokens 10 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e --system "For each question about the medical image, provide: Answer: A clear, direct response Analysis Process: Key observations from the image Relevant technical/anatomical features Logical reasoning steps leading to conclusion Use professional medical terminology while maintaining clarity. Support all conclusions with visible evidence from the image."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/slake/slake_train_closed.jsonl#10 --attn_impl flash_attn --max_new_tokens 512 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e --system "Systematically analyze the medical image to provide a direct, evidence-based answer. Then, follow this structured workflow: observe visible features; analyze and reason systematically; and present precise, evidence-based conclusions using professional medical terminology."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/slake/slake_train_closed.jsonl#10 --max_new_tokens 512 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e --system "Systematically analyze the medical image to provide a direct, evidence-based answer. Then, follow this structured workflow: observe visible features; analyze and reason systematically; and present precise, evidence-based conclusions using professional medical terminology."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/slake/slake_train_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/slake/slake_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/slake/slake_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/slake/slake_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_consistent_input.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241221.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 10
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_slake_vqamed_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 1000 --eval_steps 1000 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type cosine --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241222.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v9-20241221-235311/checkpoint-1000 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v9-20241221-235311/checkpoint-2000 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v9-20241221-235311/checkpoint-3000 --val_dataset /home/civisky/workspace/datasets/slake/slake_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v9-20241221-235311/checkpoint-4000 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_open.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v9-20241221-235311/checkpoint-4000 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_open.jsonl --attn_impl flash_attn --max_new_tokens 8
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_consistent_inconsistent_correct_input.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 400 --eval_steps 400 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241223.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v11-20241223-005214/checkpoint-2400 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v11-20241223-005214/checkpoint-2000 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v11-20241223-005214/checkpoint-1600 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v10-20241222-214019/checkpoint-500 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 8 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v10-20241222-214019/checkpoint-400 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_open.jsonl --attn_impl flash_attn --max_new_tokens 16 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqamed/vqamed_train_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqamed/vqamed_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqamed/vqamed_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqamed/vqamed_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_slake_vqamed_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all_closed.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 1000 --eval_steps 1000 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241223.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 16 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-7b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 16 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-7b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --max_new_tokens 16 --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenBMB/MiniCPM-V --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_consistent_inconsistent_correct_input.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/minicpm-v-1.0-3b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 400 --eval_steps 400 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241224.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenBMB/MiniCPM-V --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/minicpm-v-1.0-3b --num_train_epochs 10 --max_steps -1 --save_total_limit -1 --save_steps 100 --eval_steps 100 --logging_steps 50 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20241224.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/minicpm-v-1.0-3b/v0-20241224-002415/checkpoint-2400 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16 --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/minicpm-v-1.0-3b/v1-20241224-090722/checkpoint-1120 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/minicpm-v-1.0-3b/v1-20241224-090722/checkpoint-1000 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_consistent_inconsistent_correct_input_new.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/internvl-1.5-4b --num_train_epochs 8 --max_steps -1 --save_total_limit -1 --save_steps 400 --eval_steps 400 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20250103.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift sft --model OpenBMB/MiniCPM-V --dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_consistent_inconsistent_correct_input_new.jsonl --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_val_all.jsonl --output_dir output/minicpm-v-1.0-3b --num_train_epochs 8 --max_steps -1 --save_total_limit -1 --save_steps 400 --eval_steps 400 --logging_steps 10 --per_device_train_batch_size 1 --gradient_accumulation_steps 16 --max_length 2048 --max_new_tokens 2048 --learning_rate 1.0e-4 --lr_scheduler_type constant --train_type lora --lora_rank 8 --lora_alpha 32 --lora_dropout 0.05 --lora_dtype float32 --target_modules all-linear EMBEDDING --warmup_ratio 0.05 --warmup_steps 0 --weight_decay 0.1 --dataloader_num_workers 1 --system None --disable_tqdm True --lazy_tokenize True --logging_dir None --save_strategy steps --save_safetensors True --gradient_checkpointing True  --attn_impl flash_attn --tuner_backend peft --deepspeed zero3 --hub_token 949e0ba1-9d35-4dbb-a317-1d1ce4d5330e >> 20250103.log 2>&1
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v13-20250103-153908/checkpoint-3592 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --ckpt_dir /home/civisky/workspace/swift3/output/internvl-1.5-4b/v13-20250103-153908/checkpoint-800 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_closed.jsonl --attn_impl flash_attn --max_new_tokens 16
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: \n(1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). \n(2) OBSERVATION: Describe key features and findings using precise medical terminology. \n(3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. \n(4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. \nMANDATORY FORMAT: \nANSWER: [answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a **direct and precise answer** (e.g., Yes/No, Imaging-Type, View-Type, Count, Location-Direction, Anatomical-Location, Medical-Finding, Imaging-Characteristic, Medical-Term, Temporal-Change, Signal/Density, Lesion-Measurement, Contrast-Enhancement). NO exceptions. Then, support your answer using this structured analysis workflow:\n(1) **OBSERVATION**: Describe key visible features and findings (e.g., size, shape, location, density, signal characteristics, enhancement patterns, associated findings) in precise medical terms.\n(2) **ANALYSIS**: Provide systematic interpretation and reasoning, considering potential pathology and clinical context.\n(3) **CONCLUSION**: Provide an evidence-based final assessment, including possible diagnoses for abnormal findings or confirmation of normal findings. Recommend further steps if applicable. \n\nMANDATORY FORMAT:\nANSWER: [direct and precise answer].\nOBSERVATION: [key features and findings].\nANALYSIS: [systematic interpretation and reasoning].\nCONCLUSION: [evidence-based final assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl#50 --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1 weighted, T2 weighted, FLAIR, PET, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Bone, Brainstem, Thyroid, Lymph nodes, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5 cm, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --attn_impl flash_attn  --prompt_template "MANDATORY REQUIREMENTS: Analyze the image systematically and answer the question following this structured workflow: (1) ANSWER: Provide a concise and accurate answer in 3 words or fewer. (2) OBSERVATION: Describe key features and findings using precise medical terminology. (3) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context. (4) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl#100 --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer (Yes/No/Count/Imaging-Type/View-Type/Location-Direction/Anatomical-Location/Medical-Finding/Imaging-Characteristic/Medical-Term) - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "MANDATORY REQUIREMENTS: You MUST start with an direct and precise answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). - NO exceptions. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key features and findings using precise medical terminology; (2) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context; (3) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. MANDATORY FORMAT: ANSWER: [answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key features and findings using precise medical terminology; (2) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context; (3) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. Format: 'ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment].'"
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). \nThen, you MUST support your answer through this structured analysis workflow: \n(1) OBSERVATION: List key visible features and findings; \n(2) ANALYSIS: Provide systematic reasoning and interpretation; \n(3) CONCLUSION: State evidence-based final assessment. \nFormat: \nANSWER: [precise term]. \nOBSERVATION: [features and findings]. \nANALYSIS: [reasoning and interpretation]. \nCONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). \nThen, you MUST support your answer through this structured analysis workflow: \n(1) OBSERVATION: List key visible features and findings; \n(2) ANALYSIS: Provide systematic reasoning and interpretation; \n(3) CONCLUSION: State evidence-based final assessment. \n\nFormat: \nANSWER: [answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. \n\nFormat: \nANSWER: [precise term]. \nOBSERVATION: [features and findings]. \nANALYSIS: [reasoning and interpretation]. \nCONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). \nThen, you MUST support your answer through this structured analysis workflow: \n(1) OBSERVATION: List key visible features and findings; \n(2) ANALYSIS: Provide systematic reasoning and interpretation; \n(3) CONCLUSION: State evidence-based final assessment. \nFormat: \nANSWER: [precise term]. \nOBSERVATION: [features and findings]. \nANALYSIS: [reasoning and interpretation]. \nCONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen, Spine, Pelvis, Brainstem, Thyroid, Prostate), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral, Anterior, Posterior, Superior, Inferior), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification, Fracture line, Cavitation, Consolidation, Hyperdensity, Hypodensity), Quantitative measurements (e.g., 0, 1, 2, 3, 4, 5, etc.), Patient demographics (e.g., Male, Female), Other medical terms (e.g., with contrast, without contrast, None, etc.). \nThen, you MUST support your answer through this structured analysis workflow: \n(1) OBSERVATION: List key visible features and findings; \n(2) ANALYSIS: Provide systematic reasoning and interpretation; \n(3) CONCLUSION: State evidence-based final assessment. \nFormat: \nANSWER: [precise term]. \nOBSERVATION: [features and findings]. \nANALYSIS: [reasoning and interpretation]. \nCONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "MANDATORY REQUIREMENTS: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), Quantitative measurements, Patient demographics, Other medical terms. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), Quantitative measurements, Patient demographics, Other medical terms. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: State evidence-based final assessment. Format: ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment]."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, Imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), Anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), Imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), Pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), Imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), Quantitative measurements, Patient demographics, Other medical terms. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: List key visible features and findings; (2) ANALYSIS: Provide systematic reasoning and interpretation; (3) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings, and recommend follow-up steps as necessary. Format: ANSWER: [precise term]. OBSERVATION: [features and findings]. ANALYSIS: [reasoning and interpretation]. CONCLUSION: [evidence-based assessment]. Example: ANSWER: No. OBSERVATION: No visible effusion or masses in the lung fields. ANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. CONCLUSION: No effusion or masses detected."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. Then, you MUST support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings using precise medical terminology; (2) ANALYSIS: Provide a systematic interpretation and reasoning, considering potential pathology and clinical context; (3) CONCLUSION: Deliver an evidence-based final assessment, including 1-3 possible diagnoses for abnormal findings. Recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [evidence-based assessment]. Example: ANSWER: No. OBSERVATION: No visible effusion or masses in the lung fields. ANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. CONCLUSION: No effusion or masses detected."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. OBSERVATION: No visible effusion or masses in the lung fields. ANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. CONCLUSION: No effusion or masses detected."  # 0.561, 415, 422
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.565, 436, 394
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.521, 55, 259
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.463, 3, 254
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.547, 1729, 1521
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.493, 220, 1011
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.439, 1683, 1720
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.586, 920, 531
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.500, 55, 842
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.469, 1779, 1780
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]."  # 0.584, 1099, 972
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]."  # 0.487, 131, 870
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.552, 1669, 1077
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.500, 55, 842
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "1. Requirements: \nYou MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) OBSERVATION: Describe key visible features and findings; 2) ANALYSIS: Provide systematic interpretation and reasoning; 3) CONCLUSION: Deliver an evidence-based final assessment. \n\n2. Format: \nANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]. \n\n3. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.526, 1789, 1650
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "1. Requirements: \nYou MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) OBSERVATION: Describe key visible features and findings; 2) ANALYSIS: Provide systematic interpretation and reasoning; 3) CONCLUSION: Deliver an evidence-based final assessment. \n\n2. Format: \nANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]. \n\n3. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.508, 385, 1329
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "**Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.573, 1603, 1463
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.583, 1604, 1386
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.496, 71, 638
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.469, 1779, 1778
# --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.547, 1729, 1521, OpenBMB/MiniCPM-V-2_6
# --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.493, 220, 1011, Qwen/Qwen2-VL-7B-Instruct
# --system "Requirements: You MUST start with a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment and recommend follow-up steps as necessary. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: ANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.439, 1683, 1720, AIDC-AI/Ovis1.6-Gemma2-9B
# --system "1. Requirements: \nYou MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) OBSERVATION: Describe key visible features and findings; 2) ANALYSIS: Provide systematic interpretation and reasoning; 3) CONCLUSION: Deliver an evidence-based final assessment. \n\n2. Format: \nANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]. \n\n3. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.526, 1789, 1650, OpenBMB/MiniCPM-V-2_6
# --system "1. Requirements: \nYou MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) OBSERVATION: Describe key visible features and findings; 2) ANALYSIS: Provide systematic interpretation and reasoning; 3) CONCLUSION: Deliver an evidence-based final assessment. \n\n2. Format: \nANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]. \n\n3. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.508, 385, 1329, Qwen/Qwen2-VL-7B-Instruct
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.552, 1669, 1077, OpenBMB/MiniCPM-V-2_6
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]. Example: \nANSWER: No. \nOBSERVATION: No visible effusion or masses in the lung fields. \nANALYSIS: The chest X-ray shows clear lung fields without signs of fluid accumulation or any abnormal growths. \nCONCLUSION: No effusion or masses detected."  # 0.488, 135, 1109, Qwen/Qwen2-VL-7B-Instruct
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]."  # 0.584, 1099, 972, OpenBMB/MiniCPM-V-2_6
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. \nOBSERVATION: [features and findings]. \nANALYSIS: [interpretation and reasoning]. \nCONCLUSION: [final assessment]."  # 0.487, 131, 870, Qwen/Qwen2-VL-7B-Instruct
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.586, 920, 531, OpenBMB/MiniCPM-V-2_6
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.500, 55, 842, Qwen/Qwen2-VL-7B-Instruct
# --system "Requirements: You MUST start with an concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: (1) OBSERVATION: Describe key visible features and findings; (2) ANALYSIS: Provide systematic interpretation and reasoning; (3) CONCLUSION: Deliver an evidence-based final assessment. Format: ANSWER: [concise answer]. OBSERVATION: [features and findings]. ANALYSIS: [interpretation and reasoning]. CONCLUSION: [final assessment]."  # 0.469, 1779, 1780, AIDC-AI/Ovis1.6-Gemma2-9B
# --system "**Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.573, 1603, 1463, OpenBMB/MiniCPM-V-2_6
# --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.583, 1604, 1386, OpenBMB/MiniCPM-V-2_6
# --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.496, 71, 638, Qwen/Qwen2-VL-7B-Instruct
# --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.469, 1779, 1778, AIDC-AI/Ovis1.6-Gemma2-9B
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.583, 1604, 1386
# # CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.496, 71, 638
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."  # 0.469, 1779, 1778
# # CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Llama-3.2-11B-Vision-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Llama3.2-3B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-2B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3.5-vision-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3-vision-128k-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-1.3b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-7b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl2-tiny --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-1.5-7b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-v1.6-vicuna-7b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llama3-llava-next-8b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AI-ModelScope/paligemma2-10b-pt-448 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --attn_impl flash_attn
# # CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-llama3.1-8b --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AI-Modelscope/llama3-llava-next-8b --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AI-ModelScope/llava-onevision-qwen2-7b-ov-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_train_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and answer the question. **Mandatory Requirements**: You MUST start with a concise and accurate answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, patient demographics, etc.). You MUST then support your answer through this structured analysis workflow: 1) Observation: Describe key visible features and findings. 2) Analysis: Provide systematic interpretation and reasoning. 3) Conclusion: Deliver an evidence-based final assessment. **Response Format**: Answer: [concise answer]. Observation: [features and findings]. Analysis: [interpretation and reasoning]. Conclusion: [final assessment]."
# # --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer (e.g., Yes, No, imaging modalities, anatomical locations, imaging views and directions, pathological diagnoses, imaging findings, quantitative measurements, etc.). NO explanations."
# --system "You are an expert in medical image analysis. Analyze the image and provide a concise and accurate answer. Possible answers include: Yes, No, imaging modalities (e.g., X-ray, CT, MRI, DWI, T1, T2, FLAIR, Ultrasound), anatomical locations (e.g., Lung, Chest, Liver, Head, Brain, Abdomen, Kidney, Heart, Spleen), imaging views and directions (e.g., PA, AP, Axial, Transverse, Coronal, Sagittal, Left, Right, Upper, Lower, Medial, Lateral, Bilateral), pathological diagnoses (e.g., Pneumonia, Pneumothorax, Cardiomegaly, Tumor, Infarct, Abscess, Cyst, Ischemia, Hemorrhage, Inflammation, Lesion), imaging findings (e.g., Atelectasis, Nodules, Effusion, Hyperplasia, Calcification), quantitative measurements, patient demographics, etc. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2_6 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V-2 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenBMB/MiniCPM-V --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-2B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Gemma2-9B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AIDC-AI/Ovis1.6-Llama3.2-3B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Llama-3.2-11B-Vision-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# # CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3.5-vision-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model LLM-Research/Phi-3-vision-128k-instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-1.3b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl-7b-chat --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model deepseek-ai/deepseek-vl2-tiny --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-1.5-7b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-v1.6-vicuna-7b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llama3-llava-next-8b-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model swift/llava-llama3.1-8b --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AI-ModelScope/paligemma2-10b-pt-448 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AI-Modelscope/llama3-llava-next-8b --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model AI-ModelScope/llava-onevision-qwen2-7b-ov-hf --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-4B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-2B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-1B --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/InternVL2_5-8B-MPO --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-4B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model OpenGVLab/Mini-InternVL-Chat-2B-V1-5 --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
# CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2-VL-2B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."
CUDA_VISIBLE_DEVICES=0 swift infer --model Qwen/Qwen2.5-VL-7B-Instruct --val_dataset /home/civisky/workspace/datasets/vqarad/vqarad_test_all.jsonl --max_new_tokens 1024 --attn_impl flash_attn --system "You are an expert in medical image analysis. Analyze the image and provide a concise answer. NO explanations."











































































